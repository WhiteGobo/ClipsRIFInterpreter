@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rif: <http://www.w3.org/2007/rif#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<http://example.com/constIRI-to-constraint> a rif:Forall ;
    rif:formula [ a rif:Implies ;
            rif:if [ a rif:And ;
                    rif:formulas ( [ a rif:Frame ;
                                rif:object [ a rif:Var ;
                                        rif:varname "rifnode" ] ;
                                rif:slots ( [ a rif:Slot ;
                                            rif:slotkey [ a rif:Const ;
                                                    rif:constIRI "http://www.w3.org/2007/rif#constIRI"^^xsd:anyURI ] ;
                                            rif:slotvalue [ a rif:Var ;
                                                    rif:varname "iristring" ] ] ) ] ) ] ;
            rif:then [ a rif:Do ;
                    rif:actionVar ( [ a rif:Var ;
                                rif:varname "clipsnode" ] [ a rif:New ] ) ;
                    rif:actions ( [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "rifnode" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://example.com/as-constraint"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:Var ;
                                                            rif:varname "clipsnode" ] ] ) ] ] [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "rifnode" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://example.com/as-expression"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:Var ;
                                                            rif:varname "clipsnode" ] ] ) ] ] [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "clipsnode" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://clips.script/symbol"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:External ;
                                                            rif:content [ a rif:Expr ;
                                                                    rif:args ( [ a rif:Var ;
                                                                                rif:varname "iristring" ] ) ;
                                                                    rif:op [ a rif:Const ;
                                                                            rif:constIRI "http://white.gobo/iri-to-clipsconstant"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "clipsnode" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://example.com/as-constraint-needs-additional-conditionals"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:External ;
                                                            rif:content [ a rif:Expr ;
                                                                    rif:args () ;
                                                                    rif:op [ a rif:Const ;
                                                                            rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] ) ] ] ;
    rif:vars ( [ a rif:Var ;
                rif:varname "rifnode" ] [ a rif:Var ;
                rif:varname "iristring" ] ) .

<http://example.com/transform-rif-consts> a rif:Group ;
    rif:sentences ( <http://example.com/value-to-constraint> <http://example.com/constIRI-to-constraint> ) .

<http://example.com/transform-rif-variable> a rif:Forall ;
    rif:formula [ a rif:Implies ;
            rif:if [ a rif:And ;
                    rif:formulas ( [ a rif:Frame ;
                                rif:object [ a rif:Var ;
                                        rif:varname "rifnode" ] ;
                                rif:slots ( [ a rif:Slot ;
                                            rif:slotkey [ a rif:Const ;
                                                    rif:constIRI "http://www.w3.org/2007/rif#varname"^^xsd:anyURI ] ;
                                            rif:slotvalue [ a rif:Var ;
                                                    rif:varname "varname" ] ] ) ] ) ] ;
            rif:then [ a rif:Do ;
                    rif:actionVar ( [ a rif:Var ;
                                rif:varname "clipsnode" ] [ a rif:New ] ) ;
                    rif:actions ( [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "rifnode" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://example.com/as-constraint"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:Var ;
                                                            rif:varname "clipsnode" ] ] ) ] ] [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "rifnode" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://example.com/as-expression"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:Var ;
                                                            rif:varname "clipsnode" ] ] ) ] ] [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "clipsnode" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://clips.script/variable-name"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:Var ;
                                                            rif:varname "varname" ] ] ) ] ] [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "clipsnode" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://example.com/as-constraint-needs-additional-conditionals"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:External ;
                                                            rif:content [ a rif:Expr ;
                                                                    rif:args () ;
                                                                    rif:op [ a rif:Const ;
                                                                            rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] ) ] ] ;
    rif:vars ( [ a rif:Var ;
                rif:varname "rifnode" ] [ a rif:Var ;
                rif:varname "varname" ] ) .

<http://example.com/transform-terms-asdf> a rif:Group ;
    rif:sentences ( <http://example.com/transform-rif-variable> ) .

<http://example.com/value-to-constraint> a rif:Forall ;
    rif:formula [ a rif:Implies ;
            rif:if [ a rif:And ;
                    rif:formulas ( [ a rif:Frame ;
                                rif:object [ a rif:Var ;
                                        rif:varname "rifnode" ] ;
                                rif:slots ( [ a rif:Slot ;
                                            rif:slotkey [ a rif:Const ;
                                                    rif:constIRI "http://www.w3.org/2007/rif#value"^^xsd:anyURI ] ;
                                            rif:slotvalue [ a rif:Var ;
                                                    rif:varname "value" ] ] ) ] ) ] ;
            rif:then [ a rif:Do ;
                    rif:actionVar ( [ a rif:Var ;
                                rif:varname "clipsnode" ] [ a rif:New ] ) ;
                    rif:actions ( [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "rifnode" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://example.com/as-constraint"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:Var ;
                                                            rif:varname "clipsnode" ] ] ) ] ] [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "rifnode" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://example.com/as-expression"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:Var ;
                                                            rif:varname "clipsnode" ] ] ) ] ] [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "clipsnode" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://clips.script/string"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:External ;
                                                            rif:content [ a rif:Expr ;
                                                                    rif:args ( [ a rif:Var ;
                                                                                rif:varname "value" ] ) ;
                                                                    rif:op [ a rif:Const ;
                                                                            rif:constIRI "http://white.gobo/literal-to-clipsconstant"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "clipsnode" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://example.com/as-constraint-needs-additional-conditionals"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:External ;
                                                            rif:content [ a rif:Expr ;
                                                                    rif:args () ;
                                                                    rif:op [ a rif:Const ;
                                                                            rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] ) ] ] ;
    rif:vars ( [ a rif:Var ;
                rif:varname "rifnode" ] [ a rif:Var ;
                rif:varname "value" ] ) .

[] a rif:Document ;
    rif:payload [ a rif:Group ;
            rif:sentences ( <http://example.com/transform-terms-asdf> <http://example.com/transform-rif-consts> ) ] .

