@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rif: <http://www.w3.org/2007/rif#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<http://example.com/as-expression-transform-rif-frame> a rif:Forall ;
    rif:formula [ a rif:Implies ;
            rif:if [ a rif:And ;
                    rif:formulas ( [ a rif:Frame ;
                                rif:object [ a rif:Var ;
                                        rif:varname "rifnode" ] ;
                                rif:slots ( [ a rif:Slot ;
                                            rif:slotkey [ a rif:Const ;
                                                    rif:constIRI "http://www.w3.org/2007/rif#object"^^xsd:anyURI ] ;
                                            rif:slotvalue [ a rif:Var ;
                                                    rif:varname "object" ] ] ) ] [ a rif:Frame ;
                                rif:object [ a rif:Var ;
                                        rif:varname "rifnode" ] ;
                                rif:slots ( [ a rif:Slot ;
                                            rif:slotkey [ a rif:Const ;
                                                    rif:constIRI "http://www.w3.org/2007/rif#slots"^^xsd:anyURI ] ;
                                            rif:slotvalue [ a rif:Var ;
                                                    rif:varname "slotlist" ] ] ) ] [ a rif:Frame ;
                                rif:object [ a rif:Var ;
                                        rif:varname "slot" ] ;
                                rif:slots ( [ a rif:Slot ;
                                            rif:slotkey [ a rif:Const ;
                                                    rif:constIRI "http://www.w3.org/2007/rif#slotkey"^^xsd:anyURI ] ;
                                            rif:slotvalue [ a rif:Var ;
                                                    rif:varname "slotkey" ] ] ) ] [ a rif:Frame ;
                                rif:object [ a rif:Var ;
                                        rif:varname "slot" ] ;
                                rif:slots ( [ a rif:Slot ;
                                            rif:slotkey [ a rif:Const ;
                                                    rif:constIRI "http://www.w3.org/2007/rif#slotvalue"^^xsd:anyURI ] ;
                                            rif:slotvalue [ a rif:Var ;
                                                    rif:varname "slotvalue" ] ] ) ] [ a rif:External ;
                                rif:content [ a rif:Atom ;
                                        rif:args ( [ a rif:Var ;
                                                    rif:varname "slotlist" ] ) ;
                                        rif:op [ a rif:Const ;
                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-predicate#is-list"^^xsd:anyURI ] ] ] [ a rif:External ;
                                rif:content [ a rif:Atom ;
                                        rif:args ( [ a rif:Var ;
                                                    rif:varname "slotlist" ] [ a rif:Var ;
                                                    rif:varname "slot" ] ) ;
                                        rif:op [ a rif:Const ;
                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-predicate#list-contains"^^xsd:anyURI ] ] ] [ a rif:Frame ;
                                rif:object [ a rif:Var ;
                                        rif:varname "object" ] ;
                                rif:slots ( [ a rif:Slot ;
                                            rif:slotkey [ a rif:Const ;
                                                    rif:constIRI "http://example.com/as-expression"^^xsd:anyURI ] ;
                                            rif:slotvalue [ a rif:Var ;
                                                    rif:varname "expressionsubject" ] ] ) ] [ a rif:Frame ;
                                rif:object [ a rif:Var ;
                                        rif:varname "slotkey" ] ;
                                rif:slots ( [ a rif:Slot ;
                                            rif:slotkey [ a rif:Const ;
                                                    rif:constIRI "http://example.com/as-expression"^^xsd:anyURI ] ;
                                            rif:slotvalue [ a rif:Var ;
                                                    rif:varname "expressionpredicate" ] ] ) ] [ a rif:Frame ;
                                rif:object [ a rif:Var ;
                                        rif:varname "slotvalue" ] ;
                                rif:slots ( [ a rif:Slot ;
                                            rif:slotkey [ a rif:Const ;
                                                    rif:constIRI "http://example.com/as-expression"^^xsd:anyURI ] ;
                                            rif:slotvalue [ a rif:Var ;
                                                    rif:varname "expressionobject" ] ] ) ] ) ] ;
            rif:then [ a rif:Do ;
                    rif:actionVar ( [ a rif:Var ;
                                rif:varname "slotpredicate" ] [ a rif:New ] ),
                        ( [ a rif:Var ;
                                rif:varname "rhspattern" ] [ a rif:New ] ),
                        ( [ a rif:Var ;
                                rif:varname "slotsubject" ] [ a rif:New ] ),
                        ( [ a rif:Var ;
                                rif:varname "slotobject" ] [ a rif:New ] ) ;
                    rif:actions ( [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "rifnode" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://example.com/as-rhspattern"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:Var ;
                                                            rif:varname "rhspattern" ] ] ) ] ] [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "rhspattern" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://clips.script/deftemplate-name"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:Const ;
                                                            rif:value "TripleTemplate"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "rhspattern" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://clips.script/slot"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:External ;
                                                            rif:content [ a rif:Expr ;
                                                                    rif:args ( [ a rif:Var ;
                                                                                rif:varname "slotsubject" ] [ a rif:Var ;
                                                                                rif:varname "slotpredicate" ] [ a rif:Var ;
                                                                                rif:varname "slotobject" ] ) ;
                                                                    rif:op [ a rif:Const ;
                                                                            rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "slotsubject" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://clips.script/slot-name"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:Const ;
                                                            rif:value "subject"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "slotsubject" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://clips.script/field"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:External ;
                                                            rif:content [ a rif:Expr ;
                                                                    rif:args ( [ a rif:Var ;
                                                                                rif:varname "expressionsubject" ] ) ;
                                                                    rif:op [ a rif:Const ;
                                                                            rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "slotpredicate" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://clips.script/slot-name"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:Const ;
                                                            rif:value "predicate"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "slotpredicate" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://clips.script/field"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:External ;
                                                            rif:content [ a rif:Expr ;
                                                                    rif:args ( [ a rif:Var ;
                                                                                rif:varname "expressionpredicate" ] ) ;
                                                                    rif:op [ a rif:Const ;
                                                                            rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "slotobject" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://clips.script/slot-name"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:Const ;
                                                            rif:value "object"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                rif:target [ a rif:Frame ;
                                        rif:object [ a rif:Var ;
                                                rif:varname "slotobject" ] ;
                                        rif:slots ( [ a rif:Slot ;
                                                    rif:slotkey [ a rif:Const ;
                                                            rif:constIRI "http://clips.script/field"^^xsd:anyURI ] ;
                                                    rif:slotvalue [ a rif:External ;
                                                            rif:content [ a rif:Expr ;
                                                                    rif:args ( [ a rif:Var ;
                                                                                rif:varname "expressionobject" ] ) ;
                                                                    rif:op [ a rif:Const ;
                                                                            rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] ) ] ] ;
    rif:vars ( [ a rif:Var ;
                rif:varname "rifnode" ] [ a rif:Var ;
                rif:varname "slotlist" ] [ a rif:Var ;
                rif:varname "slot" ] [ a rif:Var ;
                rif:varname "currentconditionalelement" ] [ a rif:Var ;
                rif:varname "clipsrestraint" ] [ a rif:Var ;
                rif:varname "slotvalue" ] [ a rif:Var ;
                rif:varname "slotkey" ] [ a rif:Var ;
                rif:varname "constraintsubject" ] ) .

[] a rif:Document ;
    rif:payload [ a rif:Group ;
            rif:sentences ( [ a rif:Forall ;
                        rif:formula [ a rif:Implies ;
                                rif:if [ a rif:And ;
                                        rif:formulas ( [ a rif:Or ;
                                                    rif:formulas ( [ a rif:Frame ;
                                                                rif:object [ a rif:Var ;
                                                                        rif:varname "rifrule" ] ;
                                                                rif:slots ( [ a rif:Slot ;
                                                                            rif:slotkey [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/2007/rif#then"^^xsd:anyURI ] ;
                                                                            rif:slotvalue [ a rif:Var ;
                                                                                    rif:varname "clause" ] ] ) ] [ a rif:Frame ;
                                                                rif:object [ a rif:Var ;
                                                                        rif:varname "rifrule" ] ;
                                                                rif:slots ( [ a rif:Slot ;
                                                                            rif:slotkey [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/2007/rif#formula"^^xsd:anyURI ] ;
                                                                            rif:slotvalue [ a rif:Var ;
                                                                                    rif:varname "clause" ] ] ) ] ) ] [ a rif:Or ;
                                                    rif:formulas ( [ a rif:Frame ;
                                                                rif:object [ a rif:Var ;
                                                                        rif:varname "clause" ] ;
                                                                rif:slots ( [ a rif:Slot ;
                                                                            rif:slotkey [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                            rif:slotvalue [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/2007/rif#Frame"^^xsd:anyURI ] ] ) ] [ a rif:Frame ;
                                                                rif:object [ a rif:Var ;
                                                                        rif:varname "clause" ] ;
                                                                rif:slots ( [ a rif:Slot ;
                                                                            rif:slotkey [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                            rif:slotvalue [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/2007/rif#Atom"^^xsd:anyURI ] ] ) ] [ a rif:Frame ;
                                                                rif:object [ a rif:Var ;
                                                                        rif:varname "clause" ] ;
                                                                rif:slots ( [ a rif:Slot ;
                                                                            rif:slotkey [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                            rif:slotvalue [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/2007/rif#SubClass"^^xsd:anyURI ] ] ) ] [ a rif:Frame ;
                                                                rif:object [ a rif:Var ;
                                                                        rif:varname "clause" ] ;
                                                                rif:slots ( [ a rif:Slot ;
                                                                            rif:slotkey [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                            rif:slotvalue [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/2007/rif#Member"^^xsd:anyURI ] ] ) ] ) ] ) ] ;
                                rif:then [ a rif:Do ;
                                        rif:actionVar ( [ a rif:Var ;
                                                    rif:varname "clipsaction" ] [ a rif:New ] ) ;
                                        rif:actions ( [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clause" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://example.com/as-action"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "clipsaction" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clipsaction" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://example.com/assert-uses-pattern-from"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "clause" ] ] ) ] ] ) ] ] ;
                        rif:vars ( [ a rif:Var ;
                                    rif:varname "rifrule" ] [ a rif:Var ;
                                    rif:varname "clause" ] ) ] [ a rif:Forall ;
                        rif:formula [ a rif:Implies ;
                                rif:if [ a rif:And ;
                                        rif:formulas ( [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "rifassert" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/2007/rif#Assert"^^xsd:anyURI ] ] ) ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "rifassert" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/2007/rif#target"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "clause" ] ] ) ] [ a rif:Or ;
                                                    rif:formulas ( [ a rif:Frame ;
                                                                rif:object [ a rif:Var ;
                                                                        rif:varname "clause" ] ;
                                                                rif:slots ( [ a rif:Slot ;
                                                                            rif:slotkey [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                            rif:slotvalue [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/2007/rif#Frame"^^xsd:anyURI ] ] ) ] [ a rif:Frame ;
                                                                rif:object [ a rif:Var ;
                                                                        rif:varname "clause" ] ;
                                                                rif:slots ( [ a rif:Slot ;
                                                                            rif:slotkey [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                            rif:slotvalue [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/2007/rif#Atom"^^xsd:anyURI ] ] ) ] [ a rif:Frame ;
                                                                rif:object [ a rif:Var ;
                                                                        rif:varname "clause" ] ;
                                                                rif:slots ( [ a rif:Slot ;
                                                                            rif:slotkey [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                            rif:slotvalue [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/2007/rif#SubClass"^^xsd:anyURI ] ] ) ] [ a rif:Frame ;
                                                                rif:object [ a rif:Var ;
                                                                        rif:varname "clause" ] ;
                                                                rif:slots ( [ a rif:Slot ;
                                                                            rif:slotkey [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                            rif:slotvalue [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/2007/rif#Member"^^xsd:anyURI ] ] ) ] ) ] ) ] ;
                                rif:then [ a rif:Do ;
                                        rif:actionVar ( [ a rif:Var ;
                                                    rif:varname "clipsaction" ] [ a rif:New ] ) ;
                                        rif:actions ( [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "rifassert" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://example.com/as-action"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "clipsaction" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clipsaction" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://example.com/assert-uses-pattern-from"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "clause" ] ] ) ] ] ) ] ] ;
                        rif:vars ( [ a rif:Var ;
                                    rif:varname "rifassert" ] [ a rif:Var ;
                                    rif:varname "clause" ] ) ] [ a rif:Forall ;
                        rif:formula [ a rif:Implies ;
                                rif:if [ a rif:And ;
                                        rif:formulas ( [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "rifretract" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/2007/rif#Retract"^^xsd:anyURI ] ] ) ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "rifretract" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/2007/rif#target"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "clause" ] ] ) ] [ a rif:Or ;
                                                    rif:formulas ( [ a rif:Frame ;
                                                                rif:object [ a rif:Var ;
                                                                        rif:varname "clause" ] ;
                                                                rif:slots ( [ a rif:Slot ;
                                                                            rif:slotkey [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                            rif:slotvalue [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/2007/rif#Frame"^^xsd:anyURI ] ] ) ] [ a rif:Frame ;
                                                                rif:object [ a rif:Var ;
                                                                        rif:varname "clause" ] ;
                                                                rif:slots ( [ a rif:Slot ;
                                                                            rif:slotkey [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                            rif:slotvalue [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/2007/rif#Atom"^^xsd:anyURI ] ] ) ] [ a rif:Frame ;
                                                                rif:object [ a rif:Var ;
                                                                        rif:varname "clause" ] ;
                                                                rif:slots ( [ a rif:Slot ;
                                                                            rif:slotkey [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                            rif:slotvalue [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/2007/rif#SubClass"^^xsd:anyURI ] ] ) ] [ a rif:Frame ;
                                                                rif:object [ a rif:Var ;
                                                                        rif:varname "clause" ] ;
                                                                rif:slots ( [ a rif:Slot ;
                                                                            rif:slotkey [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                            rif:slotvalue [ a rif:Const ;
                                                                                    rif:constIRI "http://www.w3.org/2007/rif#Member"^^xsd:anyURI ] ] ) ] ) ] ) ] ;
                                rif:then [ a rif:Do ;
                                        rif:actionVar ( [ a rif:Var ;
                                                    rif:varname "clipsaction" ] [ a rif:New ] ) ;
                                        rif:actions ( [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "rifretract" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://example.com/as-action"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "clipsaction" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clipsaction" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "retract"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clipsaction" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-args"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args () ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clipsaction" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://example.com/retract-uses-pattern-from"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "clause" ] ] ) ] ] ) ] ] ;
                        rif:vars ( [ a rif:Var ;
                                    rif:varname "rifretract" ] [ a rif:Var ;
                                    rif:varname "clause" ] ) ] [ a rif:Forall ;
                        rif:formula [ a rif:Implies ;
                                rif:if [ a rif:And ;
                                        rif:formulas ( [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "rifretract" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/2007/rif#Retract"^^xsd:anyURI ] ] ) ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "rifretract" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/2007/rif#target"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "rifterm" ] ] ) ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "rifterm" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://example.com/as-expression"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "clipsterm" ] ] ) ] ) ] ;
                                rif:then [ a rif:Do ;
                                        rif:actionVar ( [ a rif:Var ;
                                                    rif:varname "slotsubj" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "triplequery" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "tmpvar" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "expandtriples" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "tripletemplate" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "findtriples" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "clipsretract" ] [ a rif:New ] ) ;
                                        rif:actions ( [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "rifretract" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://example.com/as-action"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "clipsretract" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clipsretract" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "retract"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clipsretract" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-args"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "expandtriples" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "expandtriples" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "expand$"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "expandtriples" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-args"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "findtriples" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "findtriples" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/FindAllFacts"^^xsd:anyURI ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "findtriples" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/fact-set-template"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "tripletemplate" ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "findtriples" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/query"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "triplequery" ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "tripletemplate" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/deftemplate-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "TripleTemplate"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "tripletemplate" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/fact-set-member-variable"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "tmpvar" ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "triplequery" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "eq"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "triplequery" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-args"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "clipsterm" ] [ a rif:Var ;
                                                                                                    rif:varname "slotsubj" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "slotsubj" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/member-variable"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "tmpvar" ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "slotsubj" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/member-slot-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "subject"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "tmpvar" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/Variable"^^xsd:anyURI ] ] ) ] ] ) ] ] ;
                        rif:vars ( [ a rif:Var ;
                                    rif:varname "rifretract" ] [ a rif:Var ;
                                    rif:varname "rifterm" ] [ a rif:Var ;
                                    rif:varname "clipsterm" ] ) ] [ a rif:Forall ;
                        rif:formula [ a rif:Implies ;
                                rif:if [ a rif:And ;
                                        rif:formulas ( [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "rifmodify" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/2007/rif#Modify"^^xsd:anyURI ] ] ) ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "rifmodify" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/2007/rif#target"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "clause" ] ] ) ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "clause" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/2007/rif#Frame"^^xsd:anyURI ] ] ) ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "clause" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/2007/rif#object"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "rifobject" ] ] ) ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "rifobject" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://example.com/as-expression"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "subjterm" ] ] ) ] ) ] ;
                                rif:then [ a rif:Do ;
                                        rif:actionVar ( [ a rif:Var ;
                                                    rif:varname "tmpvar" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "comparesubject" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "comparesubjectandpredicate" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "comparepredicate" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "clipsassert" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "clipsretractall" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "tripletemplate" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "clipsretractvar" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "slotsubj" ] [ a rif:New ] ) ;
                                        rif:actions ( [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "tmpvar" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/Variable"^^xsd:anyURI ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "rifmodify" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://example.com/as-action"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "clipsretractall" ] [ a rif:Var ;
                                                                                                    rif:varname "clipsassert" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clipsretractall" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://www.w3.org/1999/02/22-rdf-syntax-ns#type"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/DoForAllFacts"^^xsd:anyURI ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clipsretractall" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/fact-set-template"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "tripletemplate" ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "tripletemplate" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/deftemplate-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "TripleTemplate"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "tripletemplate" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/fact-set-member-variable"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "tmpvar" ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clipsretractall" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/query"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "comparesubjectandpredicate" ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "comparesubjectandpredicate" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "and"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "comparesubjectandpredicate" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-args"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "comparesubject" ] [ a rif:Var ;
                                                                                                    rif:varname "comparepredicate" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "comparesubject" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "eq"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "comparesubject" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-args"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "slotsubj" ] [ a rif:Var ;
                                                                                                    rif:varname "subjterm" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "slotsubj" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/member-variable"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "tmpvar" ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "slotsubj" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/member-slot-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "subject"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "comparepredicate" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "or"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "comparepredicate" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-args"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args () ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "comparepredicate" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://example.com/compare-slotkeys-varpredicate-rifframe"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "clause" ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "comparepredicate" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://example.com/compare-slotkeys-varpredicate-tmpvar"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "tmpvar" ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "comparepredicate" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://example.com/add-compare-predicate-from"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "clause" ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clipsretractall" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/action"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "clipsretractvar" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clipsretractvar" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "retract"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clipsretractvar" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-args"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "tmpvar" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clipsassert" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://example.com/assert-uses-pattern-from"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "clause" ] ] ) ] ] ) ] ] ;
                        rif:vars ( [ a rif:Var ;
                                    rif:varname "rifmodify" ] [ a rif:Var ;
                                    rif:varname "clause" ] [ a rif:Var ;
                                    rif:varname "rifobject" ] [ a rif:Var ;
                                    rif:varname "subjterm" ] ) ] [ a rif:Forall ;
                        rif:formula [ a rif:Implies ;
                                rif:if [ a rif:And ;
                                        rif:formulas ( [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "comparepredicate" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://example.com/compare-slotkeys-varpredicate-rifframe"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "rifframe" ] ] ) ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "comparepredicate" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://example.com/compare-slotkeys-varpredicate-tmpvar"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "tmpvar" ] ] ) ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "rifframe" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/2007/rif#slots"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "slotlist" ] ] ) ] [ a rif:External ;
                                                    rif:content [ a rif:Atom ;
                                                            rif:args ( [ a rif:Var ;
                                                                        rif:varname "slotlist" ] ) ;
                                                            rif:op [ a rif:Const ;
                                                                    rif:constIRI "http://www.w3.org/2007/rif-builtin-predicate#is-list"^^xsd:anyURI ] ] ] [ a rif:Equal ;
                                                    rif:left [ a rif:Const ;
                                                            rif:value 1 ] ;
                                                    rif:right [ a rif:External ;
                                                            rif:content [ a rif:Expr ;
                                                                    rif:args ( [ a rif:Var ;
                                                                                rif:varname "slotlist" ] ) ;
                                                                    rif:op [ a rif:Const ;
                                                                            rif:constIRI "http://www.w3.org/2007/rif-builtin-function#count"^^xsd:anyURI ] ] ] ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "slot" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/2007/rif#slotkey"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "slotkey" ] ] ) ] [ a rif:External ;
                                                    rif:content [ a rif:Atom ;
                                                            rif:args ( [ a rif:Var ;
                                                                        rif:varname "slotlist" ] [ a rif:Var ;
                                                                        rif:varname "slot" ] ) ;
                                                            rif:op [ a rif:Const ;
                                                                    rif:constIRI "http://www.w3.org/2007/rif-builtin-predicate#list-contains"^^xsd:anyURI ] ] ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "slotkey" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://example.com/as-expression"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "slotkeyterm" ] ] ) ] ) ] ;
                                rif:then [ a rif:Do ;
                                        rif:actionVar ( [ a rif:Var ;
                                                    rif:varname "slotpred" ] [ a rif:New ] ) ;
                                        rif:actions ( [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "slotpred" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/member-variable"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "tmpvar" ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "slotpred" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/member-slot-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "predicate"^^xsd:string ] ] ) ] ] [ a rif:Modify ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "comparepredicate" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "eq"^^xsd:string ] ] ) ] ] [ a rif:Modify ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "comparepredicate" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-args"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "slotpred" ] [ a rif:Var ;
                                                                                                    rif:varname "slotkeyterm" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] ) ] ] ;
                        rif:vars ( [ a rif:Var ;
                                    rif:varname "comparepredicate" ] [ a rif:Var ;
                                    rif:varname "tmpvar" ] [ a rif:Var ;
                                    rif:varname "rifframe" ] [ a rif:Var ;
                                    rif:varname "slotlist" ] [ a rif:Var ;
                                    rif:varname "slot" ] [ a rif:Var ;
                                    rif:varname "slotkey" ] [ a rif:Var ;
                                    rif:varname "slotkeyterm" ] ) ] [ a rif:Forall ;
                        rif:formula [ a rif:Implies ;
                                rif:if [ a rif:And ;
                                        rif:formulas ( [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "clipsassert" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://example.com/assert-uses-pattern-from"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "rifformula" ] ] ) ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "rifformula" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://example.com/as-rhspattern"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "rhspattern" ] ] ) ] ) ] ;
                                rif:then [ a rif:Do ;
                                        rif:actions ( [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clipsassert" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/assert"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "rhspattern" ] ] ) ] ] ) ] ] ;
                        rif:vars ( [ a rif:Var ;
                                    rif:varname "clipsassert" ] [ a rif:Var ;
                                    rif:varname "rifformula" ] [ a rif:Var ;
                                    rif:varname "rhspattern" ] ) ] [ a rif:Forall ;
                        rif:formula [ a rif:Implies ;
                                rif:if [ a rif:And ;
                                        rif:formulas ( [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "clipsretract" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://example.com/retract-uses-pattern-from"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "rifformula" ] ] ) ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "rifformula" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://example.com/as-rhspattern"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "rhspattern" ] ] ) ] ) ] ;
                                rif:then [ a rif:Do ;
                                        rif:actionVar ( [ a rif:Var ;
                                                    rif:varname "clipsassert" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "retracttargets" ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "clipsretract" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://clips.script/function-args"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "retracttargets" ] ] ) ] ) ;
                                        rif:actions ( [ a rif:Modify ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clipsretract" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/function-args"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "retracttargets" ] [ a rif:Var ;
                                                                                                    rif:varname "clipsassert" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#append"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "clipsassert" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/assert"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "rhspattern" ] ] ) ] ] ) ] ] ;
                        rif:vars ( [ a rif:Var ;
                                    rif:varname "clipsretract" ] [ a rif:Var ;
                                    rif:varname "rifformula" ] [ a rif:Var ;
                                    rif:varname "rhspattern" ] ) ] [ a rif:Forall ;
                        rif:formula [ a rif:Implies ;
                                rif:if [ a rif:And ;
                                        rif:formulas ( [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "rifatom" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/2007/rif#op"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "op" ] ] ) ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "op" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://example.com/as-expression"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "expressionop" ] ] ) ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "rifatom" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/2007/rif#args"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "arglist" ] ] ) ] [ a rif:External ;
                                                    rif:content [ a rif:Atom ;
                                                            rif:args ( [ a rif:Var ;
                                                                        rif:varname "arglist" ] ) ;
                                                            rif:op [ a rif:Const ;
                                                                    rif:constIRI "http://www.w3.org/2007/rif-builtin-predicate#is-list"^^xsd:anyURI ] ] ] ) ] ;
                                rif:then [ a rif:Do ;
                                        rif:actionVar ( [ a rif:Var ;
                                                    rif:varname "rhspattern" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "slotargs" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "slotop" ] [ a rif:New ] ) ;
                                        rif:actions ( [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "rifatom" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://example.com/as-rhspattern"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "rhspattern" ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "rhspattern" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/deftemplate-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "Atom"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "rhspattern" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/slot"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "slotop" ] [ a rif:Var ;
                                                                                                    rif:varname "slotargs" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "slotop" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/slot-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "op"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "slotop" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/field"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "expressionop" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "slotargs" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/slot-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "args"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "slotargs" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/field"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args () ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "slotargs" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://example.com/add-atom-args-rhspattern"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "arglist" ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "slotargs" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://example.com/brubru"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "arglist" ] ] ) ] ] ) ] ] ;
                        rif:vars ( [ a rif:Var ;
                                    rif:varname "rifatom" ] [ a rif:Var ;
                                    rif:varname "op" ] [ a rif:Var ;
                                    rif:varname "expressionop" ] [ a rif:Var ;
                                    rif:varname "arglist" ] ) ] [ a rif:Forall ;
                        rif:formula [ a rif:Implies ;
                                rif:if [ a rif:And ;
                                        rif:formulas ( [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "rifatom" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://www.w3.org/2007/rif#op"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "op" ] ] ) ] [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "op" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://example.com/as-expression"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:Var ;
                                                                        rif:varname "expressionop" ] ] ) ] [ a rif:INeg ;
                                                    rif:formula [ a rif:Exists ;
                                                            rif:formula [ a rif:Frame ;
                                                                    rif:object [ a rif:Var ;
                                                                            rif:varname "rifatom" ] ;
                                                                    rif:slots ( [ a rif:Slot ;
                                                                                rif:slotkey [ a rif:Const ;
                                                                                        rif:constIRI "http://www.w3.org/2007/rif#args"^^xsd:anyURI ] ;
                                                                                rif:slotvalue [ a rif:Var ;
                                                                                        rif:varname "arglist" ] ] ) ] ;
                                                            rif:vars ( [ a rif:Var ;
                                                                        rif:varname "arglist" ] ) ] ] ) ] ;
                                rif:then [ a rif:Do ;
                                        rif:actionVar ( [ a rif:Var ;
                                                    rif:varname "slotop" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "slotargs" ] [ a rif:New ] ),
                                            ( [ a rif:Var ;
                                                    rif:varname "rhspattern" ] [ a rif:New ] ) ;
                                        rif:actions ( [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "rifatom" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://example.com/as-rhspattern"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Var ;
                                                                                rif:varname "rhspattern" ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "rhspattern" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/deftemplate-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "Atom"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "rhspattern" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/slot"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "slotop" ] [ a rif:Var ;
                                                                                                    rif:varname "slotargs" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "slotop" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/slot-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "op"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "slotop" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/field"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args ( [ a rif:Var ;
                                                                                                    rif:varname "expressionop" ] ) ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "slotargs" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/slot-name"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:Const ;
                                                                                rif:value "args"^^xsd:string ] ] ) ] ] [ a rif:Assert ;
                                                    rif:target [ a rif:Frame ;
                                                            rif:object [ a rif:Var ;
                                                                    rif:varname "slotargs" ] ;
                                                            rif:slots ( [ a rif:Slot ;
                                                                        rif:slotkey [ a rif:Const ;
                                                                                rif:constIRI "http://clips.script/field"^^xsd:anyURI ] ;
                                                                        rif:slotvalue [ a rif:External ;
                                                                                rif:content [ a rif:Expr ;
                                                                                        rif:args () ;
                                                                                        rif:op [ a rif:Const ;
                                                                                                rif:constIRI "http://www.w3.org/2007/rif-builtin-function#make-list"^^xsd:anyURI ] ] ] ] ) ] ] ) ] ] ;
                        rif:vars ( [ a rif:Var ;
                                    rif:varname "rifatom" ] [ a rif:Var ;
                                    rif:varname "op" ] [ a rif:Var ;
                                    rif:varname "expressionop" ] ) ] [ a rif:Group ;
                        rif:behavior [ rif:Priority 10 ] ;
                        rif:sentences ( [ a rif:Forall ;
                                    rif:formula [ a rif:Implies ;
                                            rif:if [ a rif:And ;
                                                    rif:formulas ( [ a rif:Frame ;
                                                                rif:object [ a rif:Var ;
                                                                        rif:varname "slotargs" ] ;
                                                                rif:slots ( [ a rif:Slot ;
                                                                            rif:slotkey [ a rif:Const ;
                                                                                    rif:constIRI "http://example.com/add-atom-args-rhspattern"^^xsd:anyURI ] ;
                                                                            rif:slotvalue [ a rif:Var ;
                                                                                    rif:varname "arglist" ] ] ) ] [ a rif:Frame ;
                                                                rif:object [ a rif:Var ;
                                                                        rif:varname "firstarg" ] ;
                                                                rif:slots ( [ a rif:Slot ;
                                                                            rif:slotkey [ a rif:Const ;
                                                                                    rif:constIRI "http://example.com/as-expression"^^xsd:anyURI ] ;
                                                                            rif:slotvalue [ a rif:Var ;
                                                                                    rif:varname "clipsexpr" ] ] ) ] [ a rif:Equal ;
                                                                rif:left [ a rif:Var ;
                                                                        rif:varname "firstarg" ] ;
                                                                rif:right [ a rif:External ;
                                                                        rif:content [ a rif:Expr ;
                                                                                rif:args ( [ a rif:Var ;
                                                                                            rif:varname "arglist" ] [ a rif:Const ;
                                                                                            rif:value 0 ] ) ;
                                                                                rif:op [ a rif:Const ;
                                                                                        rif:constIRI "http://www.w3.org/2007/rif-builtin-function#get"^^xsd:anyURI ] ] ] ] ) ] ;
                                            rif:then [ a rif:Do ;
                                                    rif:actionVar ( [ a rif:Var ;
                                                                rif:varname "oldfield" ] [ a rif:Frame ;
                                                                rif:object [ a rif:Var ;
                                                                        rif:varname "slotargs" ] ;
                                                                rif:slots ( [ a rif:Slot ;
                                                                            rif:slotkey [ a rif:Const ;
                                                                                    rif:constIRI "http://clips.script/field"^^xsd:anyURI ] ;
                                                                            rif:slotvalue [ a rif:Var ;
                                                                                    rif:varname "oldfield" ] ] ) ] ) ;
                                                    rif:actions ( [ a rif:Modify ;
                                                                rif:target [ a rif:Frame ;
                                                                        rif:object [ a rif:Var ;
                                                                                rif:varname "slotargs" ] ;
                                                                        rif:slots ( [ a rif:Slot ;
                                                                                    rif:slotkey [ a rif:Const ;
                                                                                            rif:constIRI "http://example.com/add-atom-args-rhspattern"^^xsd:anyURI ] ;
                                                                                    rif:slotvalue [ a rif:External ;
                                                                                            rif:content [ a rif:Expr ;
                                                                                                    rif:args ( [ a rif:Var ;
                                                                                                                rif:varname "arglist" ] [ a rif:Const ;
                                                                                                                rif:value 0 ] ) ;
                                                                                                    rif:op [ a rif:Const ;
                                                                                                            rif:constIRI "http://www.w3.org/2007/rif-builtin-function#remove"^^xsd:anyURI ] ] ] ] ) ] ] [ a rif:Modify ;
                                                                rif:target [ a rif:Frame ;
                                                                        rif:object [ a rif:Var ;
                                                                                rif:varname "slotargs" ] ;
                                                                        rif:slots ( [ a rif:Slot ;
                                                                                    rif:slotkey [ a rif:Const ;
                                                                                            rif:constIRI "http://clips.script/field"^^xsd:anyURI ] ;
                                                                                    rif:slotvalue [ a rif:External ;
                                                                                            rif:content [ a rif:Expr ;
                                                                                                    rif:args ( [ a rif:Var ;
                                                                                                                rif:varname "oldfield" ] [ a rif:Var ;
                                                                                                                rif:varname "clipsexpr" ] ) ;
                                                                                                    rif:op [ a rif:Const ;
                                                                                                            rif:constIRI "http://www.w3.org/2007/rif-builtin-function#append"^^xsd:anyURI ] ] ] ] ) ] ] ) ] ] ;
                                    rif:vars ( [ a rif:Var ;
                                                rif:varname "slotargs" ] [ a rif:Var ;
                                                rif:varname "arglist" ] [ a rif:Var ;
                                                rif:varname "firstarg" ] [ a rif:Var ;
                                                rif:varname "clipsexpr" ] ) ] [ a rif:Forall ;
                                    rif:formula [ a rif:Implies ;
                                            rif:if [ a rif:Frame ;
                                                    rif:object [ a rif:Var ;
                                                            rif:varname "slotargs" ] ;
                                                    rif:slots ( [ a rif:Slot ;
                                                                rif:slotkey [ a rif:Const ;
                                                                        rif:constIRI "http://example.com/add-atom-args-rhspattern"^^xsd:anyURI ] ;
                                                                rif:slotvalue [ a rif:List ;
                                                                        rif:items () ] ] ) ] ;
                                            rif:then [ a rif:Do ;
                                                    rif:actions ( [ a rif:Retract ;
                                                                rif:target [ a rif:Frame ;
                                                                        rif:object [ a rif:Var ;
                                                                                rif:varname "slotargs" ] ;
                                                                        rif:slots ( [ a rif:Slot ;
                                                                                    rif:slotkey [ a rif:Const ;
                                                                                            rif:constIRI "http://example.com/add-atom-args-rhspattern"^^xsd:anyURI ] ;
                                                                                    rif:slotvalue [ a rif:List ;
                                                                                            rif:items () ] ] ) ] ] ) ] ] ;
                                    rif:vars ( [ a rif:Var ;
                                                rif:varname "slotargs" ] ) ] ) ] <http://example.com/as-expression-transform-rif-frame> ) ] .

