#pragma once

#include "stdbool.h"
#include "crifi_import_implementations.h"

struct @name@_memory_container{
	uint32_t length;
	const char* data;
};

@memory@

static FILE *@name@_import_method(const void *context){
	//data is original a const char*.
	//Please ensure its only accessed read-only.
	//char *data = (char*) context;
	struct @name@_memory_container *data
		= (struct @name@_memory_container*) context;
	FILE *qq = fmemopen((char*) data->data, data->length, "r");
	//if (qq == NULL){
	//	fprintf(stderr, "test_import_method failed\n");
	//}
	return qq;
}

static GetfileImportidPair @name@_importmethods[] = {
@importmethods@
	{.id=NULL}
};

static bool @functionname@(crifi_graph *graph){
	return  add_importlocations(graph, NULL, @name@_importmethods);
}
